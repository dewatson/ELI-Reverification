{
    "contents" : "# Install plotting and graphics libraries if TRUE\ndoInstall <- FALSE\ntoInstall <- c(\"ggplot2\", \"RGtk2\", \"Cairo\")\nif(doInstall){install.packages(toInstall, repos = \"http://cran.us.r-project.org\")}\n# Load the plotting and graphics libraries\nlapply(toInstall, library, character.only = TRUE)\n\n# Set up fonts for the plots\nCairoFonts(\n  regular=\"Myriad Pro:style=Regular\",\n  bold=\"Myriad Pro:style=Bold\",\n  italic=\"Myriad Pro:style=Italic\",\n  bolditalic=\"Myriad Pro:style=Bold Italic,BoldItalic\",\n  symbol=\"Symbol\"\n)\n\n# Load creatinine and nitrite cross-reactivity data\nload(\"data/cRCR.Rdata\")\nload(\"data/nTCR.Rdata\")\n\n# Plot ascorbic acid cross-reactivity\nattach(ascorbicacid)\nCairoPDF(\"plots/AAplot.pdf\",family=\"Myriad Pro\")\nAAplot <- ggplot(ascorbicacid, aes(x=Concentration, y=Response, xmin = 0, ymin = 0))\nAAplot + \n  geom_point(size=3) + \n  theme_classic(base_size = 18, base_family=\"Myriad Pro\") + \n  geom_abline(intercept = coef(aa_fit)[1], slope = coef(aa_fit)[2], size=1.4, alpha=0.4) + \n  geom_abline(intercept = 2, slope = 0, linetype=3) +\n  geom_abline(intercept = 20, slope = 0, linetype=3) +  \n  labs(title=\"Ascorbic acid cross-reactivity\") + \n  theme(plot.title = element_text(family = \"Myriad Pro Semibold\")) +\n  annotate(\"text\", x = Concentration[3], y = 0, \n           label=paste(\n             \"RSD:  \", \n             round(aa_summary$sigma, digits = 5), \"\\n\",\n             \"r:  \", round(sqrt(aa_summary$r.squared), digits = 5), \"\\n\",\n             \"m:  \", round(coef(aa_fit)[2], digits = 5), \"\\n\",\n             \"b:  \", round(coef(aa_fit)[1], digits = 5),\n             sep=\"\"\n           ),\n           hjust=1, vjust=0)\ndev.off()\ndetach(ascorbicacid)\n\n# Plot ascorbic acid cross-reactivity\nattach(niacin)\nCairoPDF(\"plots/Niacinplot.pdf\",family=\"Myriad Pro\")\nNiacinplot <- ggplot(niacin, aes(x=Concentration, y=Response, xmin = 0, ymin = 0))\nNiacinplot + \n  geom_point(size=3) + \n  theme_classic(base_size = 18, base_family=\"Myriad Pro\") + \n  geom_abline(intercept = coef(niacin_fit)[1], slope = coef(niacin_fit)[2], size=1.4, alpha=0.4) + \n  geom_abline(intercept = 2, slope = 0, linetype=3) +\n  geom_abline(intercept = 20, slope = 0, linetype=3) +  \n  labs(title=\"Niacin cross-reactivity\") + \n  theme(plot.title = element_text(family = \"Myriad Pro Semibold\")) +\n  annotate(\"text\", x = Concentration[3], y = 0, \n           label=paste(\n             \"RSD:  \", \n             round(niacin_summary$sigma, digits = 5), \"\\n\",\n             \"r:  \", round(sqrt(niacin_summary$r.squared), digits = 5), \"\\n\",\n             \"m:  \", round(coef(niacin_fit)[2], digits = 5), \"\\n\",\n             \"b:  \", round(coef(niacin_fit)[1], digits = 5),\n             sep=\"\"\n           ),\n           hjust=1, vjust=0)\ndev.off()\ndetach(niacin)\n\n# Plot permanganate cross-reactivity\nattach(permanganate)\nCairoPDF(\"plots/KMNO4plot.pdf\",family=\"Myriad Pro\")\nKMNO4plot <- ggplot(permanganate, aes(x=Concentration, y=Response, xmin = 0, ymin = 0))\nKMNO4plot + \n  geom_point(size=3) + \n  theme_classic(base_size = 18, base_family=\"Myriad Pro\") + \n  geom_abline(intercept = coef(permanganate_fit)[1], slope = coef(permanganate_fit)[2], size=2, alpha=0.4) + \n  geom_abline(intercept = 200, slope = 0, linetype=3) +  \n  labs(title=\"Permanganate cross-reactivity\") + \n  theme(plot.title = element_text(family = \"Myriad Pro Semibold\")) +\n  annotate(\"text\", x = Concentration[3], y = 0, \n           label=paste(\n             \"RSD:  \", \n             round(permanganate_summary$sigma, digits = 5), \"\\n\",\n             \"r:  \", round(sqrt(permanganate_summary$r.squared), digits = 5), \"\\n\",\n             \"m:  \", round(coef(permanganate_fit)[2], digits = 5), \"\\n\",\n             \"b:  \", round(coef(permanganate_fit)[1], digits = 5),\n             sep=\"\"\n           ),\n           hjust=1, vjust=0)\ndev.off()\ndetach(permanganate)\n\n# Plot PCC cross-reactivity\nattach(pcc)\nCairoPDF(\"plots/PCCplot.pdf\",family=\"Myriad Pro\")\nPCCplot <- ggplot(pcc, aes(x=Concentration, y=Response, xmin = 0, ymin = 0))\nPCCplot + \n  geom_point(size=3) + \n  theme_classic(base_size = 18, base_family=\"Myriad Pro\") + \n  geom_abline(intercept = coef(pcc_fit)[1], slope = coef(pcc_fit)[2], size=2, alpha=0.4) + \n  geom_abline(intercept = 200, slope = 0, linetype=3) +  \n  labs(title=\"PCC cross-reactivity\") + \n  theme(plot.title = element_text(family = \"Myriad Pro Semibold\")) +\n  annotate(\"text\", x = Concentration[3], y = 0, \n           label=paste(\n             \"RSD:  \", \n             round(pcc_summary$sigma, digits = 5), \"\\n\",\n             \"r:  \", round(sqrt(pcc_summary$r.squared), digits = 5), \"\\n\",\n             \"m:  \", round(coef(pcc_fit)[2], digits = 5), \"\\n\",\n             \"b:  \", round(coef(pcc_fit)[1], digits = 5),\n             sep=\"\"\n           ),\n           hjust=1, vjust=0)\ndev.off()\ndetach(pcc)\n\n# Plot dichromate cross-reactivity\nattach(dichromate)\nCairoPDF(\"plots/dichromateplot.pdf\",family=\"Myriad Pro\")\ndichromateplot <- ggplot(dichromate, aes(x=Concentration, y=Response, xmin = 0, ymin = 0, ymax=220))\ndichromateplot + \n  geom_point(size=3) + \n  theme_classic(base_size = 18, base_family=\"Myriad Pro\") + \n  geom_abline(intercept = coef(dichromate_fit)[1], slope = coef(dichromate_fit)[2], size=2, alpha=0.4) + \n  geom_abline(intercept = 200, slope = 0, linetype=3) +  \n  labs(title=\"Dichromate cross-reactivity\") + \n  theme(plot.title = element_text(family = \"Myriad Pro Semibold\")) +\n  annotate(\"text\", x = Concentration[3], y = 0, \n           label=paste(\n             \"RSD:  \", \n             round(dichromate_summary$sigma, digits = 5), \"\\n\",\n             \"r:  \", round(sqrt(dichromate_summary$r.squared), digits = 5), \"\\n\",\n             \"m:  \", round(coef(dichromate_fit)[2], digits = 5), \"\\n\",\n             \"b:  \", round(coef(dichromate_fit)[1], digits = 5),\n             sep=\"\"\n           ),\n           hjust=1, vjust=0)\ndev.off()\ndetach(dichromate)\n\n# Plot iodine cross-reactivity\nattach(iodine)\nCairoPDF(\"plots/iodineplot.pdf\",family=\"Myriad Pro\")\niodineplot <- ggplot(iodine, aes(x=Concentration, y=Response, xmin = 0, ymin = 0, ymax=220))\niodineplot + \n  geom_point(size=3) + \n  theme_classic(base_size = 18, base_family=\"Myriad Pro\") + \n  geom_abline(intercept = coef(iodine_fit)[1], slope = coef(iodine_fit)[2], size=2, alpha=0.4) + \n  geom_abline(intercept = 200, slope = 0, linetype=3) +  \n  labs(title=\"Iodine cross-reactivity\") + \n  theme(plot.title = element_text(family = \"Myriad Pro Semibold\")) +\n  annotate(\"text\", x = Concentration[3], y = 0, \n           label=paste(\n             \"RSD:  \", \n             round(iodine_summary$sigma, digits = 5), \"\\n\",\n             \"r:  \", round(sqrt(iodine_summary$r.squared), digits = 5), \"\\n\",\n             \"m:  \", round(coef(iodine_fit)[2], digits = 5), \"\\n\",\n             \"b:  \", round(coef(iodine_fit)[1], digits = 5),\n             sep=\"\"\n           ),\n           hjust=1, vjust=0)\ndev.off()\ndetach(iodine)\n\n# Plot hypochlorite cross-reactivity\nattach(hypochlorite)\nCairoPDF(\"plots/hypochloriteplot.pdf\",family=\"Myriad Pro\")\nhypochloriteplot <- ggplot(hypochlorite, aes(x=Concentration, y=Response, xmin = 0, ymin = 0, ymax=220))\nhypochloriteplot + \n  geom_point(size=3) + \n  theme_classic(base_size = 18, base_family=\"Myriad Pro\") + \n  geom_abline(intercept = coef(hypochlorite_fit)[1], slope = coef(hypochlorite_fit)[2], size=2, alpha=0.4) + \n  geom_abline(intercept = 200, slope = 0, linetype=3) +  \n  labs(title=\"Hypochlorite cross-reactivity\") + \n  theme(plot.title = element_text(family = \"Myriad Pro Semibold\")) +\n  annotate(\"text\", x = Concentration[3], y = 0, \n           label=paste(\n             \"RSD:  \", \n             round(hypochlorite_summary$sigma, digits = 5), \"\\n\",\n             \"r:  \", round(sqrt(hypochlorite_summary$r.squared), digits = 5), \"\\n\",\n             \"m:  \", round(coef(hypochlorite_fit)[2], digits = 5), \"\\n\",\n             \"b:  \", round(coef(hypochlorite_fit)[1], digits = 5),\n             sep=\"\"\n           ),\n           hjust=1, vjust=0)\ndev.off()\ndetach(hypochlorite)",
    "created" : 1393452003964.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "147883315",
    "id" : "54A3F6AA",
    "lastKnownWriteTime" : 1393521562,
    "path" : "~/Documents/ELI/Reverification/2014/bin/plots.R",
    "project_path" : "bin/plots.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}